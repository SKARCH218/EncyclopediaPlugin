# Encyclopedia Plugin (도감 플러그인)

마인크래프트 서버를 위한 다기능 유물 수집 및 보상 플러그인입니다. 플레이어는 낚시, 사냥, 채광 등 다양한 활동을 통해 유물을 획득하고 도감을 채워나갈 수 있습니다. 단순한 수집을 넘어, 각 유물에 얽힌 이야기를 읽고 상호작용하며 특별한 보상을 얻는 재미를 선사합니다.

---

## ✨ 주요 기능

- **다양한 유물 획득 경로**: 채광, 낚시, 몹 사냥, 발전 과제 달성 등 다양한 인게임 활동을 통해 자연스럽게 유물을 획득할 수 있습니다.
- **상호작용 가능한 유물**: 도감 GUI 내에서 각 유물을 좌클릭/우클릭하여 관리자가 설정한 특별한 명령어(효과, 메시지 등)를 실행할 수 있습니다.
- **유연한 보상 시스템**: `config.yml`을 통해 도감 완성 보상과 특정 수집 개수 달성 시 주어지는 마일스톤 보상을 자유롭게 설정할 수 있습니다.
  - **랜덤/순차 실행**: 여러 줄로 보상 명령어를 작성하여 랜덤으로 실행하거나, 한 줄에 세미콜론(;)으로 구분하여 여러 명령어를 순차적으로 실행할 수 있습니다.
- **편리한 GUI 시스템**:
  - **수집 진행도 표시**: 현재까지 수집한 유물의 개수를 한눈에 파악할 수 있습니다.
  - **등급별 필터링**: 전체, 일반, 고급, 전설 등급별로 유물을 필터링하여 볼 수 있습니다.
- **수집 랭킹 시스템**: `/도감랭킹` 명령어를 통해 서버 내 플레이어들의 유물 수집 순위를 확인할 수 있습니다.
- **손쉬운 커스터마이징**: `items.yml`과 `lang.yml` 파일을 통해 유물의 이름, 설명, 상호작용과 플러그인의 모든 메시지를 쉽게 변경할 수 있습니다.
- **성능 최적화**: 랭킹 정보를 일정 시간 캐싱하여, 잦은 명령어 사용에도 서버에 부하를 주지 않습니다.

---

## 💬 명령어

### 플레이어 명령어
- `/도감`: 자신의 도감을 엽니다.
- `/도감랭킹 [페이지]`: 서버 내 유물 수집 랭킹을 확인합니다.

### 관리자 명령어
- `/eadmin 확인 <플레이어> [페이지]`: 다른 플레이어의 도감을 확인합니다.
- `/eadmin 초기화 <플레이어>`: 특정 플레이어의 모든 도감 및 수집 횟수 데이터를 초기화합니다.
- `/eadmin 리로드`: `config.yml`, `items.yml`, `lang.yml` 등 모든 설정 파일을 서버 재부팅 없이 다시 불러옵니다.

---

## ⚙️ 설정 파일 안내

플러그인의 모든 설정은 `/plugins/Encyclopedia_Plugin/` 폴더 내의 `.yml` 파일을 통해 관리할 수 있습니다.

### `config.yml` - 핵심 설정 및 보상

도감 완성 보상과 마일스톤(수집 개수 달성) 보상을 설정합니다.

```yaml
# 도감 완성 시 실행될 명령어 목록
completion-commands:
  - "give {player} diamond 30;say §b[도감] §e{player}님, 축하합니다! 다이아몬드를 받으셨습니다!"

# 유물 누적 등록 개수가 특정 숫자에 도달할 때마다 지급될 보상
milestone-rewards:
  # 10개 등록 달성 시 (아래 두 줄 중 하나가 랜덤으로 실행)
  '10':
    - "give {player} iron_ingot 16"
    - "give {player} coal 64"
  # 20개 등록 달성 시 (한 줄의 두 명령어가 순서대로 실행)
  '20':
    - "give {player} gold_ingot 8;say §a[도감] §e20개의 유물을 등록하여 금괴 8개를 얻었습니다!"
```

### `items.yml` - 유물 정보 커스터마이징

각 유물의 이름, 설명(Lore), 그리고 GUI에서 좌/우클릭 시 실행될 명령어를 설정합니다.

```yaml
1: # 유물 ID
  name: "§e오래된 동전"
  lore:
    - "§7오래 전, 잊혀진 왕국에서 사용되던 동전."
    - "§7희미하게 온기가 남아있다."
    - ""
    - "§a[좌클릭] 동전 소리를 듣습니다."
    - "§a[우클릭] 동전을 던져 운세를 봅니다."
  left-click-commands:
    - "playsound minecraft:entity.experience_orb.pickup master {player}"
  right-click-commands:
    - "say {player}이(가) 동전을 던졌습니다!;tellraw {player} [{\"text\":\"[결과] \",\"color\":\"gold\"},{\"text\":\"앞면!\",\"color\":\"white\"}]"
    - "say {player}이(가) 동전을 던졌습니다!;tellraw {player} [{\"text\":\"[결과] \",\"color\":\"gold\"},{\"text\":\"뒷면!\",\"color\":\"white\"}]"
```

### `lang.yml` - 메시지 커스터마이징

플러그인에서 사용되는 모든 메시지를 원하는 대로 변경할 수 있습니다.

```yaml
command:
  player_only: "&c플레이어만 사용 가능한 명령어입니다."
  no_permission: "&c권한이 없습니다."
system:
  relic_acquired: "&a[도감] {relic_name}&a을(를) 획득하여 도감에 등록했습니다!"
```

---

## 📦 설치 방법

1. 서버 버전에 맞는 플러그인 `.jar` 파일을 다운로드합니다.
2. 서버의 `plugins` 폴더에 다운로드한 `.jar` 파일을 넣습니다.
3. 서버를 재시작하거나, `/reload` 명령어를 실행합니다.
4. 서버가 실행되면 `plugins/Encyclopedia_Plugin` 폴더에 설정 파일들이 자동으로 생성됩니다.

---

## 🔑 권한

- `eadmin`으로 시작하는 모든 관리자 명령어는 OP 권한을 가진 플레이어만 사용할 수 있습니다.
